# 2장 개략적인 규모 추정 

개략적인 규모 추정은 주어진 시스템 설계가 현실적인지, 성능 요구사항을 충족할 수 있는지를 파악하기 위해 **보편적인 수치 기준을 바탕으로 사고 실험**을 수행하는 과정입니다.


## 📌 규모 추정을 잘하기 위한 필수 개념

### 1. 2의 제곱수 (Binary Scale)
분산 시스템에서는 데이터 단위를 **이진법 기반**으로 표현하는 것이 일반적입니다.  
따라서 2의 제곱 단위 (예: KB, MB, GB, TB 등)를 이해하는 것이 필수입니다.

### 단위 크기 예시

| 단위       | 크기                    | 예시 설명         |
|------------|-------------------------|-------------------|
| 1 Byte     | 8 bits                 | ASCII 문자 1개    |
| 1 KB       | 2¹⁰ = 1,024 Bytes      | 짧은 문장         |
| 1 MB       | 1,024 KB               | 짧은 기사         |
| 1 GB       | 1,024 MB               | HD 영상 1편       |
| 1 TB       | 1,024 GB               | 영화 수백 편      |


### 2. 응답 지연 (Latency)
각종 컴퓨터 연산의 지연 시간은 다음과 같이 다양합니다.  
이 값을 숙지하면 병목 구간을 피하는 데 유용합니다.

- **메모리 연산**: 나노초(ns) 단위  
- **디스크 탐색**: 밀리초(ms) 단위 → 매우 느림  
- **인터넷 전송**: 지역 간 수십~수백 ms 소요

💡 **팁**: 가능하면 디스크 I/O를 줄이고, 데이터를 전송하기 전 압축하는 것이 효율적입니다.


### 3. 고가용성 지표 & SLA

고가용성(HA: High Availability)은 시스템이 오랜 시간 동안 **중단 없이 운영**되는 능력을 의미합니다.

### 가용성 수치 및 연간 허용 중단 시간

| 가용성 수치   | 연간 허용 중단 시간        |
|---------------|-----------------------------|
| 99% (Two 9s)  | 3일 15시간 36분             |
| 99.9%         | 8시간 46분                  |
| 99.99%        | 52분 36초                   |
| 99.999%       | 5분 16초                    |

- SLA (Service Level Agreement): 고객과 서비스 제공자가 **보장하는 가용성 수준**  
- 대부분의 클라우드 제공자는 **SLA 99.9% 이상**으로 설정


## 📊 예시: 트위터 QPS 및 저장소 요구량 추정

> 실제 트위터가 아닌, **가상의 수치**를 바탕으로 한 시나리오입니다.

### ✅ 가정

- 월간 사용자: **3억 명**  
- 일간 활성 사용자: **50% = 1.5억 명**  
- 하루 평균 트윗 수: **사용자당 2건**  
- 미디어 포함 비율: **10%**  
- 데이터 보존 기간: **5년**

### 📌 QPS (Query Per Second) 추정

- 1.5억 × 2건 ÷ 24시간 ÷ 3600초 ≒ 3,500 QPS
- 피크 트래픽: QPS × 2 ≒ 7,000 QPS

### 🗂 저장소 요구량 추정

- 하루 미디어 트윗: `1.5억 × 2 × 10% = 3천만 건`  
- 평균 미디어 크기: `1MB` → **30TB / 일**  
- 5년간 저장소: `30TB × 365일 × 5년 = 약 55PB`

## 🎯 마무리 및 면접 팁

개략적인 규모 추정은 **절차 중심의 사고**가 핵심입니다.  
정답보다는 **문제를 접근하는 방식**이 중요하게 평가됩니다.

### 🧠 면접 시 유용한 팁

- **근사치 계산 활용**: 복잡한 수치는 단순화  
  예: `99987 / 9.1 → 100,000 / 10`
- **가정 명확히 기록**: 중간 가정들을 명시하면 논리 전개가 뚜렷
- **단위 표기 습관화**: 숫자에는 단위(KB/MB/GB)를 꼭 명시
- **연습 문제 풀기**: QPS, 저장소, 캐시 크기, 서버 수 추정 등 자주 훈련
